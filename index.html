<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width" />
	<meta name="color-scheme" content="dark light" />
	<meta name="robots" content="all" />
	<meta name="theme-color" content="black" />
	<meta name="description" content="A GPU accelerated Mandelbrot viewer made using the new WebGPU API." />
	<meta name="repository" content="https://github.com/BenjaminAster/WebGPU-Mandelbrot" />
	<meta property="og:image" content="https://benjaminaster.com/webgpu-mandelbrot/assets/icon.webp" />

	<!-- WebGPU origin trial for benjaminaster.com -->
	<meta http-equiv="origin-trial" content="ArxfyuhcRS6Mm1SeB8SofXJR2VlM+ZLQ1BtVraY5RnAOCWuEWQ+kUJuB9p6KQAYMP2dOahMgT8QhdzIyumV7iAEAAABReyJvcmlnaW4iOiJodHRwczovL2JlbmphbWluYXN0ZXIuY29tOjQ0MyIsImZlYXR1cmUiOiJXZWJHUFUiLCJleHBpcnkiOjE2NjM3MTgzOTl9" />

	<link rel="icon" href="./assets/icon.webp" />

	<title>WebGPU Mandelbrot</title>

	<style>
		body {
			font-family: system-ui;
			margin: 0;

			padding: .5rem;
			box-sizing: border-box;

			display: flex;
			flex-direction: column;
			gap: .5rem;

			min-block-size: 100vh;
			min-block-size: 100dvb;
		}

		h1 {
			font-size: 1.4rem;
			font-weight: 600;
		}

		h1, p {
			margin-block: 0;
		}

		header {
			display: flex;
			justify-content: space-between;
		}

		.canvas-container {
			flex-grow: 1;
			position: relative;
		}

		canvas {
			display: block;
			position: absolute;
			block-size: 100%;
			inline-size: 100%;
			background-color: black;
			border: 1px solid gray;
			border-radius: .6rem;
			box-sizing: border-box;
		}

		label.max-iterations {
			display: flex;
			gap: .5rem;
		}

		label.max-iterations input[type=range] {
			flex-grow: 1;
		}

		code {
			padding: .1em .3em;
			background-color: #8885;
			border-radius: .2em;
		}

	</style>

	<script type="module" src="./mandelbrot.js"></script>
	<link rel="preload" as="fetch" crossorigin href="./mandelbrot.wgsl" />
</head>

<body>
	<noscript>
		Please enable JavaScript to view this site.
		<hr />
	</noscript>

	<header>
		<h1><a href="https://gpuweb.github.io/gpuweb/explainer/">WebGPU</a> Mandelbrot</h1>

		<a href="https://github.com/BenjaminAster/WebGPU-Mandelbrot">View on GitHub</a>
	</header>

	<p id="webgpu-not-supported" hidden>
		Your browser does not support WebGPU.
		Please use <a href="https://www.google.com/chrome/">Google Chrome</a> or <a href="https://www.google.com/chrome/canary/">Google Chrome Canary</a>.
	</p>

	<p id="webgpu-outdated" hidden>
		You are not using the newest version of <a href="https://www.google.com/chrome/">Google Chrome</a>, so WebGPU might not work properly.
		Please update to the newest Google Chrome version by visiting <code>about:help</code> in Google Chrome.
	</p>

	<label class="max-iterations">
		<span>Max iterations: <span id="max-iterations">1024</span></span>
		<input type="range" min="0" max="15" value="10" step="1" />
	</label>

	<div class="canvas-container">
		<canvas></canvas>
	</div>
</body>

</html>
